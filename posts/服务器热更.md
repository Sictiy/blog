---
title: 服务器热更
date: 2019-05-08 13:46:34
tags: 
categories: 
---

- 如何确定需要更新的表\class文件
  - cmd命令传入
  - 放在指定的文件夹
- 代码热更,热替换
  - classReloader
  - premain可以获取instrumentation
    - 编译成jar
    - 启动参数：-javaagent
  - instrumentation.redifineClass替换class文件
- 数据热更
  - 需要reload的方法注册在map中
  - 传入类名，在map中找到对应的reload方法，invoke